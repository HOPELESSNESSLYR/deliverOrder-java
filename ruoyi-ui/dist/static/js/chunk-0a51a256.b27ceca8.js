(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a51a256"],{"17be":function(e,t){e.exports="data:image/jpeg;base64,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"},"2e4e":function(e,t,i){"use strict";i("e107")},"47e4":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"form",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"采购订单编号",prop:"poNo"}},[r("el-input",{attrs:{placeholder:"请输入采购订单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.poNo,callback:function(t){e.$set(e.queryParams,"poNo",t)},expression:"queryParams.poNo"}})],1),r("el-form-item",{attrs:{label:"采购行号",prop:"poLineNo"}},[r("el-input",{attrs:{placeholder:"请输入行号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.poLineNo,callback:function(t){e.$set(e.queryParams,"poLineNo",t)},expression:"queryParams.poLineNo"}})],1),r("el-form-item",{attrs:{label:"物料编码(物料号)",prop:"sku"}},[r("el-input",{attrs:{placeholder:"请输入物料编码(物料号)",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.sku,callback:function(t){e.$set(e.queryParams,"sku",t)},expression:"queryParams.sku"}})],1),r("el-form-item",{attrs:{label:"生产日期",prop:"orderDate"}},[r("el-date-picker",{attrs:{clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择生产日期"},model:{value:e.queryParams.orderDate,callback:function(t){e.$set(e.queryParams,"orderDate",t)},expression:"queryParams.orderDate"}})],1),r("el-form-item",{attrs:{label:"送货日期",prop:"deliveryDate"}},[r("el-date-picker",{attrs:{clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择送货日期"},model:{value:e.queryParams.deliveryDate,callback:function(t){e.$set(e.queryParams,"deliveryDate",t)},expression:"queryParams.deliveryDate"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),r("el-row",{staticClass:"mb8",attrs:{gutter:10}},[r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{id:"npButton",type:"success",plain:"",icon:"el-icon-printer",size:"mini",disabled:e.single},on:{click:e.np}},[e._v("标准标签打印")])],1),r("el-col",{attrs:{span:1.5}},[r("el-button",{attrs:{id:"lpButton",type:"success",plain:"",icon:"el-icon-receiving",size:"mini",disabled:e.single},on:{click:e.lp}},[e._v("长标签打印")])],1),r("el-col",{attrs:{span:1.5}},[r("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["plan:plan:remove"],expression:"['plan:plan:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),r("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.orderList,"default-sort":{prop:"in",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[r("template",{slot:"empty"},[r("p",[e._v(e._s(e.tableEmptyText))])]),r("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),r("el-table-column",{attrs:{label:"制单人",align:"center",prop:"addWho"}}),r("el-table-column",{attrs:{label:"送货订单编号",align:"center",prop:"asnNo cancelBill",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.asnNo)+e._s(t.row.cancelBill))]}}])}),r("el-table-column",{attrs:{label:"送货行号",align:"center",prop:"lineNumber"}}),r("el-table-column",{attrs:{label:"采购订单编号",align:"center",prop:"poNo",width:"110"}}),r("el-table-column",{attrs:{label:"采购行号",align:"center",prop:"poLineNo"}}),r("el-table-column",{attrs:{label:"物料编码(物料号)",align:"center",prop:"sku",width:"120"}}),r("el-table-column",{attrs:{label:"物料描述",align:"center",prop:"skuDescr"}}),r("el-table-column",{attrs:{label:"工厂",align:"center",prop:"factory",width:"55"}}),r("el-table-column",{attrs:{label:"业务范围",align:"center",prop:"lotatt15"}}),r("el-table-column",{attrs:{label:"采购组",align:"center",prop:"projectCategory",width:"60"}}),r("el-table-column",{attrs:{label:"生产日期",align:"center",prop:"orderDate",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-date-picker",{staticClass:"date-picker",attrs:{value:t.row.orderDate,type:"date",placeholder:"",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.row.orderDate,callback:function(i){e.$set(t.row,"orderDate",i)},expression:"scope.row.orderDate"}})]}}])}),r("el-table-column",{attrs:{label:"送货日期",align:"center",prop:"deliveryDate",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.parseTime(t.row.deliveryDate,"{y}-{m}-{d}")))])]}}])}),r("el-table-column",{attrs:{label:"标签数量",align:"center",prop:"labelNumber",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.labelNumber,callback:function(i){e.$set(t.row,"labelNumber",i)},expression:"scope.row.labelNumber"}})]}}])}),r("el-table-column",{attrs:{label:"标签重量(KG)",align:"center",prop:"labelWeight"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.labelWeight,callback:function(i){e.$set(t.row,"labelWeight",i)},expression:"scope.row.labelWeight"}})]}}])}),r("el-table-column",{attrs:{label:"机台",align:"center",prop:"machine"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.machine,callback:function(i){e.$set(t.row,"machine",i)},expression:"scope.row.machine"}})]}}])}),r("el-table-column",{attrs:{label:"打印份数",align:"center",prop:"deliveredQuantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.deliveredQuantity,callback:function(i){e.$set(t.row,"deliveredQuantity",i)},expression:"scope.row.deliveredQuantity"}})]}}])}),r("el-table-column",{attrs:{label:"送货数量",align:"center",prop:"expectedQty"}}),r("el-table-column",{attrs:{label:"规格",align:"center",prop:"specification",width:"120"}}),r("el-table-column",{attrs:{label:"材质",align:"center",prop:"material"}})],2),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),r("el-dialog",{attrs:{center:"",title:e.title,visible:e.open,width:"960px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("section",{staticStyle:{zoom:"140%"},attrs:{id:"printall"}}),r("section",{ref:"pform",staticStyle:{"margin-top":"50px","margin-bottom":"50px"},attrs:{id:"printMe"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"label"},[r("div",{staticClass:"logo"},[r("label",{staticClass:"titleMatnr el-col-offset-15 el-col el-col-9"},[e._v("物料标签")]),r("img",{staticStyle:{"margin-top":"0px","margin-left":"10px"},attrs:{src:i("17be")}})]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("品名:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].skuDescr))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("料号:")])]),r("div",{staticClass:"item-text el-col el-col-20",staticStyle:{height:"12px","margin-bottom":"0.03cm"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].sku))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("批次:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].CHARG))])]),r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("机台:")])]),r("div",{staticClass:"item-text el-col el-col-8"},[r("div",{staticClass:"narrow",staticStyle:{height:"12px"}},[e._v(e._s(e.orderList[e.index].machine))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-7"},[r("div",{staticClass:"narrow"},[e._v("重量 / 数量:")])]),r("div",{staticClass:"item-text el-col el-col-17"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].labelWeight)+" / "+e._s(e.orderList[e.index].labelNumber))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("生产:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].orderDate))])]),r("div",{staticClass:"el-col el-col-5 el-col-offset-2",staticStyle:{"font-size":"2em"}}),r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("失效:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].expectedArriveTime1))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("规格:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow",staticStyle:{"font-size":"10px"}},[e._v(e._s(e.orderList[e.index].specification))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("材质:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow",staticStyle:{height:"12px"}},[e._v(e._s(e.orderList[e.index].material))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm","margin-bottom":"1mm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("厂商:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].supplieId))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.55cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("备注:")])]),r("div",{staticClass:"item-text el-col el-col-8"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].manager)+"-"+e._s(e.orderList[e.index].stockLocat))])])]),r("div",{staticClass:"rohs",attrs:{id:"rohs"}},[r("img",{attrs:{src:i("50db")}})]),r("div",{staticClass:"qrcode"},[r("img",{attrs:{src:e.src,alt:"",id:"images"}})])])]),r("div",{staticClass:"el-col el-col-6",staticStyle:{"margin-left":"14mm"}},[r("div",{staticClass:"label"},[r("div",{staticClass:"logo"},[r("label",{staticClass:"titleMatnr el-col-offset-15 el-col el-col-9"},[e._v("物料标签")]),r("img",{staticStyle:{"margin-top":"0px","margin-left":"10px"},attrs:{src:i("17be")}})]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("品名:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].skuDescr))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("料号:")])]),r("div",{staticClass:"item-text el-col el-col-20",staticStyle:{height:"12px","margin-bottom":"0.03cm"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].sku))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("批次:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].CHARG))])]),r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("机台:")])]),r("div",{staticClass:"item-text el-col el-col-8"},[r("div",{staticClass:"narrow",staticStyle:{height:"12px"}},[e._v(e._s(e.orderList[e.index].machine))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-7"},[r("div",{staticClass:"narrow"},[e._v("重量 / 数量:")])]),r("div",{staticClass:"item-text el-col el-col-17"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].labelWeight)+" / "+e._s(e.orderList[e.index].labelNumber))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("生产:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].orderDate))])]),r("div",{staticClass:"el-col el-col-5 el-col-offset-2",staticStyle:{"font-size":"2em"}}),r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("失效:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].expectedArriveTime1))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("规格:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow",staticStyle:{"font-size":"10px"}},[e._v(e._s(e.orderList[e.index].specification))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("材质:")])]),r("div",{staticClass:"item-text el-col el-col-20"},[r("div",{staticClass:"narrow",staticStyle:{height:"13px"}},[e._v(e._s(e.orderList[e.index].material))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.45cm","margin-bottom":"1mm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("厂商:")])]),r("div",{staticClass:"item-text el-col el-col-8",staticStyle:{height:"12px"}},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].supplieId))])])]),r("div",{staticClass:"item",staticStyle:{height:"0.55cm"}},[r("div",{staticClass:"el-col el-col-4"},[r("div",{staticClass:"narrow"},[e._v("备注:")])]),r("div",{staticClass:"item-text el-col el-col-8"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].manager)+"-"+e._s(e.orderList[e.index].stockLocat))])])]),r("div",{staticClass:"rohs"},[r("img",{attrs:{src:i("50db")}})]),r("div",{staticClass:"qrcode"},[r("img",{attrs:{src:e.src2,alt:""}})])])])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)]),r("el-dialog",{attrs:{center:"",title:e.title,visible:e.open2,width:"960px","append-to-body":""},on:{"update:visible":function(t){e.open2=t}}},[r("section",{attrs:{id:"printall2"}}),r("section",{ref:"pform2",attrs:{id:"printMe2"}},[r("div",{staticStyle:{height:"2.4cm",width:"10cm","font-size":"120px"}},[r("div",{staticClass:"el-row",staticStyle:{height:"2.4cm",width:"10cm","padding-top":"3mm"}},[r("div",{staticClass:"item-long",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"el-col el-col-3 el-col-offset-0"},[r("div",{staticClass:"narrow"},[e._v("品名")])]),r("div",{staticClass:"item-text-long el-col el-col-16"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].skuDescr))])])]),r("div",{staticClass:"item-long",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"el-col el-col-3 el-col-offset-0"},[r("div",{staticClass:"narrow"},[e._v("供应商")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].supplieId))])]),r("div",{staticClass:"el-col el-col-3 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("批次")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[e._v(e._s(e.orderList[e.index].CHARG))])]),r("div",{staticClass:"item-long",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"el-col el-col-3 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("料号")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[this.index].sku))])]),r("div",{staticClass:"el-col el-col-3 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("材质")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[e._v(e._s(e.orderList[e.index].material))])]),r("div",{staticClass:"item-long",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"el-col el-col-3 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("颜色")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[r("div",{staticClass:"narrow"},[e._v(e._s(e.orderList[e.index].YCPICI)+"其他")])]),r("div",{staticClass:"el-col el-col-5 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("重量/数量")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[e._v(e._s(e.orderList[e.index].labelWeight)+"/"+e._s(e.orderList[e.index].labelNumber))])]),r("div",{staticClass:"item-long",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"el-col el-col-4 el-col-offset-0"},[r("div",{staticClass:"narrow"},[e._v("生产日期")])]),r("div",{staticClass:"item-text-long el-col el-col-6",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow",staticStyle:{position:"relative !important",top:"0.05cm"}},[e._v(e._s(e.orderList[e.index].orderDate))])]),r("div",{staticClass:"el-col el-col-4 el-col-offset-0",staticStyle:{height:"0.5cm"}},[r("div",{staticClass:"narrow"},[e._v("失效日期")])]),r("div",{staticClass:"item-text-long el-col el-col-7"},[r("div",{staticClass:"narrow",staticStyle:{position:"relative !important",top:"0.05cm"}},[e._v(e._s(e.orderList[e.index].expectedArriveTime1))])])]),r("div",{staticClass:"qrcode-long"},[r("img",{attrs:{src:e.src3,alt:""}})]),r("div",{staticClass:"rohs-long"},[r("img",{attrs:{src:i("50db")}})])])])])])],1)},s=[],l=i("5530"),a=i("ade3"),o=(i("c740"),i("d81d"),i("e9c4"),i("a9e3"),i("d3b7"),i("25f0"),i("b949")),n=i("7ded"),d=i("5f87"),c=(i("c0c7"),i("d055")),u=i.n(c),m=i("add5"),p=i.n(m),h=(i("852e"),{name:"Order",data:function(){var e;return{options:[{value:"未审核",label:"未审核"},{value:"已审核",label:"已审核"}],value:"",loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,orderList:[(e={addWho:"",stockLocat:"",manager:"",expectedArriveTime1:"",CHARG:"",expectedQty:"",sku:"",orderQuantity:"",asnNo:"",poNo:"",factory:"",skuDescr:"",labelWeight:"",labelNumber:"",material:"",orderDate:"",deliveryDate:"",DATE2:"",supplieId:""},Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(e,"poNo",""),"poLineNo",""),"number1",1),"number2",2),"number3",1),"deliveredQuantity",""),"factory",""),"specification",""),"projectCategory",""),"machine",""),Object(a["a"])(Object(a["a"])(e,"cancelBill",""),"remainDeliver",0))],CHARG:"",order_List:[{sku:"",CHARG:"",labelNumber:"",labelWeight:""}],title:"",open:!1,open2:!1,src:"",src2:"",src3:"",printLoading:!0,number1:1,number2:2,number3:1,index:0,inindex:"",tableEmptyText:"",showInput:!1,hiddinInput:!0,deptControl:!1,printObj:{id:"printMe",popTitle:"good print",extraCss:"https://cdn.bootcdn.net/ajax/libs/hover.css/2.3.1/css/hover-min.css",extraHead:'<meta http-equiv="Content-Language"content="zh-cn"/>',beforeOpenCallback:function(e){e.printLoading=!0,console.log("打开之前")},openCallback:function(e){e.printLoading=!1,console.log("执行了打印")},closeCallback:function(e){console.log("关闭了打印工具")}},queryParams:Object(a["a"])(Object(a["a"])(Object(a["a"])({pageNum:1,pageSize:10,supplieId:null,asnNo:null,poNo:null,factory:null,lineNumber:null,projectCategory:null,orderDate:null,deliveryDate:null,sku:null,skuDescr:null,orderQuantity:null,lotatt15:null,deliveredQuantity:null,expectedQty:null,totalNetWeight:null,packUom:null,udf03:null,overRcvPercentage:null,udf04:null,qcStatus:null,lotatt09:null,lotatt14:null,labelNumber:null,labelWeight:null,material:null,expectedArriveTime1:null,placeOfDelivery:null,addWho:null,addTime:null,poLineNo:null,specification:null,machine:null,index:null},"expectedArriveTime1",null),"cancelBill",null),"remainDeliver",0),form:{},rules:{},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(d["a"])()},url:"/prod-api/deliver/order/importData"},jsonData:{asnNo:"",supplierId:"",expectedArriveTime1:"",addTime:this.getCurrentDate(),placeOfDelivery:"",addWho:"",detail:[{asnNo:"",asnLineNo:"10",poNo:"",lotatt15:"",sku:"",skuDescr:"",expectedQty:"",totalNetWeight:"",packUom:"",udf03:"",overRcvPercentage:"",udf04:"",qcStatus:"",lotatt09:"",lotatt14:"",lotatt20:""}]}}},created:function(){Object(n["c"])().then((function(e){})),this.getList()},methods:{ps:function(){this.putStatus()},cs:function(){this.changeStatus()},np:function(){this.normalprint()},lp:function(){this.longprint()},padZero:function(e,t){var i=""+e;while(i.length<t)i="0"+i;return i},padSpace:function(e,t){var i=""+e;while(i.length<t)i+=" ";return i},padSku:function(e){var t=""+e;if(18==t.length)return t;while(t.length<18)t="0"+t;return t},getQRCode3:function(e){var t=this,i={errorCorrectionLevel:"L",type:"image/png",quality:.3,margin:0,width:90,height:90,text:e,color:{dark:"#000",light:"#fff"}};u.a.toDataURL(e,i,(function(e,i){if(e)throw e;console.log("url"+i),t.src3=i}))},getQRCode:function(e){var t=this,i={errorCorrectionLevel:"L",type:"image/png",quality:.3,margin:0,width:85,height:85,text:e,color:{dark:"#000",light:"#fff"}};u.a.toDataURL(e,i,(function(e,i){if(e)throw e;console.log("url"+i),t.src=i}))},getQRCode2:function(e){var t=this,i={errorCorrectionLevel:"L",type:"image/png",quality:.3,margin:0,width:85,height:85,text:e,color:{dark:"#000",light:"#fff"}};u.a.toDataURL(e,i,(function(e,i){if(e)throw e;console.log("url"+i),t.src2=i}))},compare:function(e,t){var i=new Date(e),r=new Date(t);return i<r||i==r},normalprint:function(){var e=this;document.getElementById("npButton").disabled=!0,setTimeout((function(){document.getElementById("npButton").disabled=!1}),2e3),this.index=this.orderList.findIndex((function(t){return t.id==e.ids}));var t=this.orderList.findIndex((function(t){return t.id==e.ids}));if(null!=this.orderList[t].orderDate)if(this.compare(this.orderList[t].deliveryDate,this.orderList[t].orderDate))this.$alert("送货日期不能大于生产日期");else if("0"!=this.orderList[t].labelNumber&&null!=this.orderList[t].labelNumber)if(void 0!=this.orderList[t].deliveredQuantity&&0!=this.orderList[t].deliveredQuantity){var i="S";this.orderList[t].sku.length>18&&(this.orderList[t].sku=this.orderList[t].sku.substring(0,18)),console.log(JSON.stringify(this.orderList[t])),this.jsonData.asnNo=this.orderList[t].asnNo,this.jsonData.supplierId=this.orderList[t].supplieId,this.jsonData.expectedArriveTime1=this.orderList[t].deliveryDate,this.jsonData.addTime=this.getCurrentDate(),this.jsonData.placeOfDelivery=this.orderList[t].placeOfDelivery,this.jsonData.addWho=this.orderList[t].supplieId,this.jsonData.detail[0].asnNo=this.orderList[t].asnNo,this.jsonData.detail[0].poLineNo=this.orderList[t].poLineNo,this.jsonData.detail[0].poNo=this.orderList[t].poNo,this.jsonData.detail[0].sku=this.orderList[t].sku,this.jsonData.detail[0].skuDescr=this.orderList[t].skuDescr,this.jsonData.detail[0].expectedQty=this.orderList[t].expectedQty,this.jsonData.detail[0].lotatt15=this.orderList[t].lotatt15,this.jsonData.detail[0].udf03=this.orderList[t].udf03,this.jsonData.detail[0].overRcvPercentage=this.orderList[t].overRcvPercentage,this.jsonData.detail[0].udf04=this.orderList[t].udf04,this.jsonData.detail[0].lotatt09=this.orderList[t].lotatt09,this.jsonData.detail[0].lotatt14=this.orderList[t].factory,this.jsonData.detail[0].lotatt20=this.orderList[t].orderDate,this.jsonData.detail[0].packUom=this.orderList[t].packUom,this.jsonData.detail[0].qcStatus=this.orderList[t].qcStatus,this.jsonData.detail[0].totalNetWeight=this.orderList[t].totalNetWeight,console.log("this.jsonData"+JSON.stringify(this.jsonData)),Object(o["b"])(this.jsonData).then((function(r){if(console.log(JSON.stringify(r)),Object(o["o"])(e.orderList[t]).then((function(t){e.$modal.msgSuccess("更新成功"),console.log(JSON.stringify(t))})),"1000"==r.RETURN_CODE){var s={};s["purchaseOrder"]=e.orderList[t].poNo,s["thingOrder"]=e.orderList[t].sku,s["supplier"]=e.orderList[t].supplieId,s["flag"]=i,s["orDate"]=e.orderList[t].orderDate,s["deDate"]=e.orderList[t].deliveryDate,Object(o["e"])(s).then((function(i){var r=i["soap-env:Envelope"]["soap-env:Body"]["n0:ZPP_021Response"];if(void 0!=r["O_TABLE"].item){r["O_TABLE"].item.length>1?(e.CHARG=r["O_TABLE"].item[0].CHARG,e.orderList[t].expectedArriveTime1=r["O_TABLE"].item[0].ZYXRQ,e.orderList[e.index].expectedArriveTime1=r["O_TABLE"].item[0].ZYXRQ):(e.CHARG=r["O_TABLE"].item.CHARG,e.orderList[t].expectedArriveTime1=r["O_TABLE"].item.ZYXRQ,e.orderList[e.index].expectedArriveTime1=r["O_TABLE"].item.ZYXRQ,console.log("this.CHARG"+e.CHARG)),e.orderList[t].CHARG=e.CHARG,e.orderList[t].PRINTNO=2*e.orderList[t].deliveredQuantity,e.order_List[0].CHARG=e.orderList[t].CHARG,e.order_List[0].sku=e.padSku(e.orderList[t].sku),e.order_List[0].labelNumber=e.padSpace(e.orderList[t].labelNumber,16),e.order_List[0].labelWeight=e.padSpace(e.orderList[t].labelWeight,16),console.log("order_List"+JSON.stringify(e.order_List[0]));var l="*"+e.order_List[0].sku+e.order_List[0].CHARG+e.order_List[0].labelNumber+e.order_List[0].labelWeight+e.padSpace(" ",17)+"000";console.log("printData:"+l);var a="data="+encodeURI(JSON.stringify(e.order_List[0]));console.log("data:"+a),Object(n["g"])(a).then((function(i){console.log("res"+JSON.stringify(i)),e.open=!0,setTimeout((function(){console.log("this.$refs.pform"+e.$refs.pform),e.orderList[t].number1=Number(e.orderList[t].deliveredQuantity)+1,e.orderList[t].number2=Number(e.orderList[t].deliveredQuantity)+2;var i=document.getElementById("printall");i.style="display:block;top:2px;left: 5mm;color:#000000",i.style.zoom=1.235,console.log(" printable.style.zoom "+i.style.zoom);for(var r=i.childNodes.length-1;r>=0;r--)i.removeChild(i.childNodes[r]);var s=[];for(r=0;r<e.orderList[t].deliveredQuantity;r++){i[r]=document.getElementById("printMe"),e.getQRCode(l+" "+e.padZero(e.orderList[t].number1.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode")[0].childNodes[0].src=e.src,e.getQRCode2(l+" "+e.padZero(e.orderList[t].number2.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode")[1].childNodes[0].src=e.src2;var a=document.getElementById("printMe").innerHTML,o=document.createElement("section");o.style="margin-top: 2px;margin-bottom: 10px;margin-left: 3mm;",o.innerHTML=a,s[r]=o,i.insertBefore(o,i.childNodes[0]),console.log(i)}var n=s.length;for(r=0;r<n;r++){i.appendChild(s[r]);var d=document.createElement("div");d.style="page-break-after:always;",r!=n-1&&i.appendChild(d)}console.log("printall",document.getElementById("printall")),setTimeout((function(){p()({printable:"printall",type:"html",scanStyles:!0,targetStyles:["*"]})}),1e3),setTimeout((function(){document.getElementById("printall").style="display:none"}),2e3)}),3e3)}))}else s["flag"]="C",Object(o["e"])(s).then((function(i){var r=i["soap-env:Envelope"]["soap-env:Body"]["n0:ZPP_021Response"];console.log("C response:"+JSON.stringify(i)),console.log("C response.data.chargList:"+r["O_CHARG"]),e.orderList[t].expectedArriveTime1=r["O_DATE"],e.orderList[e.index].expectedArriveTime1=r["O_DATE"],e.CHARG=r["O_CHARG"],e.orderList[t].CHARG=e.CHARG,e.orderList[t].PRINTNO=2*e.orderList[t].deliveredQuantity,e.order_List[0].CHARG=e.orderList[t].CHARG,e.order_List[0].sku=e.padSku(e.orderList[t].sku),e.order_List[0].labelNumber=e.padSpace(e.orderList[t].labelNumber,16),e.order_List[0].labelWeight=e.padSpace(e.orderList[t].labelWeight,16);var s="*"+e.order_List[0].sku+e.order_List[0].CHARG+e.order_List[0].labelNumber+e.order_List[0].labelWeight+e.padSpace(" ",17)+"000";console.log("printData:"+s);var l="data="+encodeURI(JSON.stringify(e.order_List[0]));console.log("data:"+l),Object(n["g"])(l).then((function(i){e.open=!0,setTimeout((function(){console.log(e.$refs.pform);var i=document.getElementById("printall");i.style="display:block;top:2px;left: 3mm;color:#000000",i.style.zoom=1.235,e.orderList[t].number1=Number(e.orderList[t].deliveredQuantity)+1,e.orderList[t].number2=Number(e.orderList[t].deliveredQuantity)+2;for(var r=i.childNodes.length-1;r>=0;r--)i.removeChild(i.childNodes[r]);var l=[];for(r=0;r<e.orderList[t].deliveredQuantity;r++){i[r]=document.getElementById("printMe"),e.getQRCode(s+" "+e.padZero(e.orderList[t].number1.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode")[0].childNodes[0].src=e.src,e.getQRCode2(s+" "+e.padZero(e.orderList[t].number2.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode")[1].childNodes[0].src=e.src2;var a=document.getElementById("printMe").innerHTML,o=document.createElement("section");o.style="margin-top: 2px;margin-bottom: 10px;margin-left: 5mm;",o.innerHTML=a,l[r]=o,console.log(i),e.orderList[t].number1=e.orderList[t].number1+2,e.orderList[t].number2=e.orderList[t].number2+2}var n=l.length;for(r=0;r<n;r++){i.appendChild(l[r]);var d=document.createElement("div");d.style="page-break-after:always;",r!=n-1&&i.appendChild(d)}console.log("printall",document.getElementById("printall")),setTimeout((function(){p()({printable:"printall",type:"html",scanStyles:!0,targetStyles:["*"]})}),1e3),setTimeout((function(){document.getElementById("printall").style="display:none"}),2e3)}),3e3)}))}))}))}else alert("wms提交失败请重试-"+r.RETURN_DESC)})).catch((function(e){console.log(e)}))}else this.$alert("请填写打印份数");else this.$alert("请填写标签数量");else this.$alert("请填写生产日期")},longprint:function(){var e=this;document.getElementById("lpButton").disabled=!0,setTimeout((function(){document.getElementById("lpButton").disabled=!1}),2e3),this.index=this.orderList.findIndex((function(t){return t.id==e.ids}));var t=this.orderList.findIndex((function(t){return t.id==e.ids}));if(console.log("index:"+t),null!=this.orderList[t].orderDate)if(this.compare(this.orderList[t].deliveryDate,this.orderList[t].orderDate))this.$alert("送货日期不能大于生产日期");else if("0"!=this.orderList[t].labelNumber&&null!=this.orderList[t].labelNumber)if(this.orderList[t].labelNumber>this.orderList[t].expectedQty)this.$alert("标签数量不能大于送货数量");else if(void 0!=this.orderList[t].deliveredQuantity&&0!=this.orderList[t].deliveredQuantity){var i="S";this.orderList[t].sku.length>18&&(this.orderList[t].sku=this.orderList[t].sku.substring(0,18)),this.jsonData.asnNo=this.orderList[t].asnNo,this.jsonData.supplierId=this.orderList[t].supplieId,this.jsonData.expectedArriveTime1=this.orderList[t].deliveryDate,this.jsonData.addTime=this.getCurrentDate(),this.jsonData.placeOfDelivery=this.orderList[t].placeOfDelivery,this.jsonData.addWho=this.orderList[t].supplieId,this.jsonData.detail[0].asnNo=this.orderList[t].asnNo,this.jsonData.detail[0].poLineNo=this.orderList[t].poLineNo,this.jsonData.detail[0].poNo=this.orderList[t].poNo,this.jsonData.detail[0].sku=this.orderList[t].sku,this.jsonData.detail[0].skuDescr=this.orderList[t].skuDescr,this.jsonData.detail[0].expectedQty=this.orderList[t].expectedQty,this.jsonData.detail[0].lotatt15=this.orderList[t].lotatt15,this.jsonData.detail[0].udf03=this.orderList[t].udf03,this.jsonData.detail[0].overRcvPercentage=this.orderList[t].overRcvPercentage,this.jsonData.detail[0].udf04=this.orderList[t].udf04,this.jsonData.detail[0].lotatt09=this.orderList[t].lotatt09,this.jsonData.detail[0].lotatt14=this.orderList[t].factory,this.jsonData.detail[0].lotatt20=this.orderList[t].orderDate,this.jsonData.detail[0].packUom=this.orderList[t].packUom,this.jsonData.detail[0].qcStatus=this.orderList[t].qcStatus,this.jsonData.detail[0].totalNetWeight=this.orderList[t].totalNetWeight,console.log("this.jsonData"+JSON.stringify(this.jsonData)),Object(o["b"])(this.jsonData).then((function(r){if("1000"==r.RETURN_CODE){var s={};s["purchaseOrder"]=e.orderList[t].poNo,s["thingOrder"]=e.orderList[t].sku,s["supplier"]=e.orderList[t].supplieId,s["flag"]=i,s["orDate"]=e.orderList[t].orderDate,s["deDate"]=e.orderList[t].deliveryDate,Object(o["e"])(s).then((function(i){console.log("response"+JSON.stringify(i));var r=i["soap-env:Envelope"]["soap-env:Body"]["n0:ZPP_021Response"];if(void 0!=r["O_TABLE"].item){r["O_TABLE"].item.length>1?(e.CHARG=r["O_TABLE"].item[0].CHARG,e.orderList[t].expectedArriveTime1=r["O_TABLE"].item[0].ZYXRQ,e.orderList[e.index].expectedArriveTime1=r["O_TABLE"].item[0].ZYXRQ):(e.CHARG=r["O_TABLE"].item.CHARG,console.log("this.CHARG"+e.CHARG),e.orderList[t].expectedArriveTime1=r["O_TABLE"].item.ZYXRQ,e.orderList[e.index].expectedArriveTime1=r["O_TABLE"].item.ZYXRQ),e.orderList[t].CHARG=e.CHARG,e.orderList[t].PRINTNO=2*e.orderList[t].deliveredQuantity,console.log("JSON.stringify this.orderList[index]"+JSON.stringify(e.orderList[t])),e.order_List[0].CHARG=e.orderList[t].CHARG,e.order_List[0].sku=e.padSku(e.orderList[t].sku),e.order_List[0].labelNumber=e.padSpace(e.orderList[t].labelNumber,16),e.order_List[0].labelWeight=e.padSpace(e.orderList[t].labelWeight,16),console.log("order_List"+JSON.stringify(e.order_List[0]));var l="*"+e.order_List[0].sku+e.order_List[0].CHARG+e.order_List[0].labelNumber+e.order_List[0].labelWeight+e.padSpace(" ",17)+"000",a="data="+encodeURI(JSON.stringify(e.order_List[0]));console.log("printData:"+l),Object(n["g"])(a).then((function(i){e.open2=!0,setTimeout((function(){console.log("this.$refs.pform2"+e.$refs.pform2);var i=document.getElementById("printall2");i.style="display:block;margin-top:3mm;margin-left: 3mm;color:#000000",i.style.zoom=.99,e.orderList[t].number3=Number(e.orderList[t].deliveredQuantity)+1,console.log(" printable.style.zoom "+i.style.zoom);for(var r=i.childNodes.length-1;r>=0;r--)i.removeChild(i.childNodes[r]);var s=[];for(r=0;r<e.orderList[t].deliveredQuantity;r++){i[r]=document.getElementById("printMe2"),e.getQRCode3(l+" "+e.padZero(e.orderList[t].number3.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode-long")[0].childNodes[0].src=e.src3,e.orderList[t].number3+=1;var a=document.getElementById("printMe2").innerHTML,o=document.createElement("section");o.style="margin-top:3mm;margin-left: 3mm;color:#000000",o.innerHTML=a,s[r]=o,i.insertBefore(o,i.childNodes[0]),console.log(i)}var n=s.length;for(r=0;r<n;r++){i.appendChild(s[r]);var d=document.createElement("div");d.style="page-break-after:always;",r!=n-1&&i.appendChild(d)}console.log("printall2",document.getElementById("printall2")),setTimeout((function(){p()({printable:"printall2",type:"html",scanStyles:!0,targetStyles:["*"]})}),1e3),setTimeout((function(){document.getElementById("printall2").style="display:none"}),2e3)}),3e3)}))}else s["flag"]="C",Object(o["e"])(s).then((function(i){var r=i["soap-env:Envelope"]["soap-env:Body"]["n0:ZPP_021Response"];console.log("C response:"+JSON.stringify(i)),console.log("C response.data.chargList:"+r["O_CHARG"]),e.CHARG=r["O_CHARG"],e.orderList[t].expectedArriveTime1=r["O_DATE"],e.orderList[e.index].expectedArriveTime1=r["O_DATE"],e.orderList[t].CHARG=e.CHARG,e.orderList[t].PRINTNO=e.orderList[t].deliveredQuantity,e.order_List[0].CHARG=e.orderList[t].CHARG,e.order_List[0].sku=e.padSku(e.orderList[t].sku),e.order_List[0].labelNumber=e.padSpace(e.orderList[t].labelNumber,16),e.order_List[0].labelWeight=e.padSpace(e.orderList[t].labelWeight,16),console.log("order_List"+JSON.stringify(e.order_List[0]));var s="*"+e.order_List[0].sku+e.order_List[0].CHARG+e.order_List[0].labelNumber+e.order_List[0].labelWeight+e.padSpace(" ",17)+"000",l="data="+encodeURI(JSON.stringify(e.order_List[0]));console.log("data:"+l),Object(n["g"])(l).then((function(i){console.log(s),e.open2=!0,setTimeout((function(){console.log(e.$refs.pform2);var i=document.getElementById("printall2");i.style="display:block;margin-top:3mm;margin-left: 3mm;color:#000000",i.style.zoom=.99,e.orderList[t].number3=Number(e.orderList[t].deliveredQuantity)+1;for(var r=i.childNodes.length-1;r>=0;r--)i.removeChild(i.childNodes[r]);console.log("printable",i);var l=[];for(r=0;r<e.orderList[t].deliveredQuantity;r++){var a=document.getElementById("printMe2");console.log("",e.orderList[t].number3),e.getQRCode3(s+" "+e.padZero(e.orderList[t].number3.toString(),4)+" "+e.orderList[t].supplieId),document.getElementsByClassName("qrcode-long")[0].childNodes[0].src=e.src3,e.orderList[t].number3+=1;var o=document.createElement("section");o.style="margin-top:3mm;margin-left: 3mm;color:#000000",o.innerHTML=a.innerHTML,l[r]=o}var n=l.length;for(r=0;r<n;r++){i.appendChild(l[r]);var d=document.createElement("div");d.style="page-break-after:always;",r!=n-1&&i.appendChild(d)}setTimeout((function(){p()({printable:"printall2",type:"html",scanStyles:!0,targetStyles:["*"]})}),1e3),setTimeout((function(){document.getElementById("printall2").style="display:none"}),2e3)}),3e3)}))}))}))}else alert("提交失败请重试"+r.RETURN_DESC)})).catch((function(e){console.log(e)}))}else this.$alert("请填写打印份数");else this.$alert("请填写标签数量");else this.$alert("请填写生产日期")},getList:function(){var e=this;this.tableEmptyText="暂无数据",this.loading=!0,Object(n["c"])().then((function(t){"user"==t.roles?(e.queryParams.supplieId=t.user.userName,e.queryParams.remainDeliver=0,Object(o["m"])(e.queryParams).then((function(t){if(0==t.total){var i;e.loading=!1,e.$modal.msgSuccess("暂无数据"),e.orderList=[(i={addWho:"",stockLocat:"",manager:"",expectedArriveTime1:"",CHARG:"",expectedQty:"",sku:"",orderQuantity:"",asnNo:"",poNo:"",factory:"",skuDescr:"",labelWeight:"",labelNumber:"",material:"",orderDate:"",deliveryDate:"",DATE2:"",supplieId:""},Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(i,"poNo",""),"poLineNo",""),"number1",1),"number2",2),"number3",1),"deliveredQuantity",""),"factory",""),"specification",""),"projectCategory",""),"machine",""),Object(a["a"])(Object(a["a"])(i,"cancelBill",""),"remainDeliver",0))],e.total=t.total}else{e.orderList=t.rows;for(var r=0;r<e.orderList.length;r++)e.orderList[r].number1=1,e.orderList[r].number2=2,e.orderList[r].number3=1,e.orderList[r].cancelBill;e.total=t.total,e.loading=!1}}))):"admin"==t.roles?Object(o["m"])(e.queryParams).then((function(t){if(0==t.total){var i;e.$modal.msgSuccess("暂无数据"),e.loading=!1,e.orderList=[(i={addWho:"",stockLocat:"",manager:"",expectedArriveTime1:"",CHARG:"",expectedQty:"",sku:"",orderQuantity:"",asnNo:"",poNo:"",factory:"",skuDescr:"",labelWeight:"",labelNumber:"",material:"",orderDate:"",deliveryDate:"",DATE2:"",supplieId:""},Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(i,"poNo",""),"poLineNo",""),"number1",1),"number2",2),"number3",1),"deliveredQuantity",""),"factory",""),"specification",""),"projectCategory",""),"machine",""),Object(a["a"])(Object(a["a"])(i,"cancelBill",""),"remainDeliver",0))],e.total=t.total}else{e.orderList=t.rows;for(var r=0;r<e.orderList.length;r++)e.orderList[r].number1=1,e.orderList[r].number2=2,e.orderList[r].number3=1,e.orderList[r].cancelBill;e.total=t.total,e.loading=!1}})):(e.queryParams.projectCategory=t.user.userName,Object(o["m"])(e.queryParams).then((function(t){e.orderList=t.rows;for(var i=0;i<e.orderList.length;i++)e.orderList[i].number1=1,e.orderList[i].number2=2,e.orderList[i].number3=1;e.total=t.total,e.loading=!1})))}))},getCurrentDate:function(){var e=new Date,t=e.getFullYear(),i=e.getMonth()+1,r=e.getDate();return t+"-"+i+"-"+r},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,deliverId:null,supplieId:null,asnNo:null,poNo:null,factory:null,lineNumber:null,projectCategory:null,orderDate:null,deliveryDate:null,sku:null,skuDescr:null,orderQuantity:null,lotatt15:null,deliveredQuantity:null,expectedQty:null,totalNetWeight:null,packUom:null,udf03:null,overRcvPercentage:null,udf04:null,qcStatus:null,lotatt09:null,lotatt14:null,labelNumber:null,labelWeight:null,material:null,expectedArriveTime1:null,placeOfDelivery:null,addWho:null,addTime:null,updateBy:null,updateTime:null,poLineNo:null,specification:null,machine:null,cancelBill:null,remainDeliver:0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("form"),this.handleQuery()},handleSelectionChange:function(e){console.log(JSON.stringify(e)),this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加送货单"},handleUpdate:function(e){var t=this;this.reset();var i=e.id||this.ids;Object(o["f"])(i).then((function(e){t.form=e.data,t.open=!0,t.title="修改送货单"}))},close:function(){this.openPwd=!1},handleDelete:function(e){var t=this,i=e.id||this.ids;this.$modal.confirm('是否确认删除送货单编号为"'+i+'"的数据项？').then((function(){return Object(o["d"])(i)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("deliver/order/export",Object(l["a"])({},this.queryParams),"order_".concat((new Date).getTime(),".xlsx"))},handleImport:function(){this.upload.title="个人物品导入",this.upload.open=!0},importTemplate:function(){this.download("dorm/article/importTemplate",{},"个人物品信息_模板_".concat((new Date).getTime(),".xlsx"))},handleFileUploadProgress:function(e,t,i){this.upload.isUploading=!0},handleFileSuccess:function(e,t,i){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert("<div style='overflow: auto;overflow-x: hidden;max-height: 70vh;padding: 10px 20px 0;'>"+e.msg+"</div>","导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),g=h,v=(i("2e4e"),i("2877")),f=Object(v["a"])(g,r,s,!1,null,"6fb14187",null);t["default"]=f.exports},"50db":function(e,t){e.exports="data:image/png;base64,Qk2+AQAAAAAAAD4AAAAoAAAAXwAAACAAAAABAAEAAAAAAIABAABhDwAAYQ8AAAAAAAAAAAAAAAAAAP///wAAAAAAAAAAAAAAAAA///////////////g/////////////8fg/////////////4/g//xxpDgTDJ///5/g//AgBDAACI4Bvz/g//MEIBGIAI/AHn/g//PEAAGIAI/gDv/g//NEAAGIQI/wBP/g//AgAAGIRA/4AP/g//ghCAGMRA/4AD/g//xxmBmcTA/AAD/g//////////4AAA/g//////////wAAAfg//////////gAAAPg/////////wAAAABg/////////z/wAD/g/Ec9xx/////gCD/g/EQYxh/////gCD/g/EAIxA/////gGD/g/ECIxE/////gPD/g/ACAxA/////gfD/g/AiABw/////B/j/g/AAIBg/////D/j/g/AQIBB/////D/j/g/EQYxE////+H/j/g/Af4xA////8P/z/g/A/4xx////8//7/g//////////8//7/g//////////5////g///////////////gAAAAAAAAAAAAAAAA="},b949:function(e,t,i){"use strict";i.d(t,"m",(function(){return s})),i.d(t,"f",(function(){return l})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"o",(function(){return n})),i.d(t,"d",(function(){return d})),i.d(t,"j",(function(){return c})),i.d(t,"i",(function(){return u})),i.d(t,"k",(function(){return m})),i.d(t,"l",(function(){return p})),i.d(t,"n",(function(){return h})),i.d(t,"h",(function(){return g})),i.d(t,"e",(function(){return v})),i.d(t,"b",(function(){return f})),i.d(t,"g",(function(){return b}));var r=i("b775");i("852e");function s(e){return Object(r["a"])({url:"/deliver/order/list",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/deliver/order/"+e,method:"get"})}function a(e){return Object(r["a"])({url:"/deliver/order/add",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/deliver/order/addd",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/deliver/order",method:"put",data:e})}function d(e){return Object(r["a"])({url:"/deliver/order/"+e,method:"delete"})}function c(e){return Object(r["a"])({url:"/deliver/order/getPurchaseOne",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function u(e){return Object(r["a"])({url:"/deliver/order/purchaseSearch",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function m(e){return Object(r["a"])({url:"/deliver/order/salecate",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function p(e){return Object(r["a"])({url:"/deliver/order/salecateSearch",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function h(e){return Object(r["a"])({url:"/deliver/order/remain",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function g(e){return Object(r["a"])({url:"/deliver/order/getOutSourcing",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function v(e){return Object(r["a"])({url:"/deliver/order/getcharg",method:"post",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},data:e})}function f(e){return Object(r["a"])({url:"./../wms",method:"post",data:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})}function b(){return Object(r["a"])({url:"/deliver/order/generate",method:"get"})}},c0c7:function(e,t,i){"use strict";i.d(t,"h",(function(){return l})),i.d(t,"f",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"k",(function(){return n})),i.d(t,"c",(function(){return d})),i.d(t,"i",(function(){return c})),i.d(t,"b",(function(){return u})),i.d(t,"g",(function(){return m})),i.d(t,"l",(function(){return p})),i.d(t,"m",(function(){return h})),i.d(t,"n",(function(){return g})),i.d(t,"e",(function(){return v})),i.d(t,"j",(function(){return f})),i.d(t,"d",(function(){return b}));var r=i("b775"),s=i("c38a");function l(e){return Object(r["a"])({url:"/system/user/list",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/system/user/"+Object(s["e"])(e),method:"get"})}function o(e){return Object(r["a"])({url:"/system/user",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/system/user",method:"put",data:e})}function d(e){return Object(r["a"])({url:"/system/user/"+e,method:"delete"})}function c(e,t){var i={userId:e,password:t};return Object(r["a"])({url:"/system/user/resetPwd",method:"put",data:i})}function u(e,t){var i={userId:e,status:t};return Object(r["a"])({url:"/system/user/changeStatus",method:"put",data:i})}function m(){return Object(r["a"])({url:"/system/user/profile",method:"get"})}function p(e){return Object(r["a"])({url:"/system/user/profile",method:"put",data:e})}function h(e,t){var i={oldPassword:e,newPassword:t};return Object(r["a"])({url:"/system/user/profile/updatePwd",method:"put",params:i})}function g(e){return Object(r["a"])({url:"/system/user/profile/avatar",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function v(e){return Object(r["a"])({url:"/system/user/authRole/"+e,method:"get"})}function f(e){return Object(r["a"])({url:"/system/user/authRole",method:"put",params:e})}function b(){return Object(r["a"])({url:"/system/user/deptTree",method:"get"})}},e107:function(e,t,i){}}]);